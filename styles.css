/* Core theme */
:root{
  --blue-700:#1565C0;
  --blue-600:#1E88E5; /* primária */
  --blue-500:#42A5F5;
  --indigo-500:#5C6BC0;
  --green-600:#2E7D32; /* acento CTA */
  --gray-900:#263238;
  --gray-700:#37474F; /* textos */
  --gray-500:#607D8B;
  --bg:#F5F7FA; /* fundo */
  --white:#fff;
  --radius-10:10px;
  --radius-12:12px;
  --radius-16:16px;
  --shadow-sm:0 2px 8px rgba(0,0,0,.06);
  --shadow-md:0 8px 24px rgba(16,24,40,.12);
  --grad-hero:radial-gradient(1200px 600px at 80% -10%, rgba(66,165,245,.25) 0%, rgba(92,107,192,.18) 40%, rgba(255,255,255,0) 70%),
               linear-gradient(180deg, #ffffff 0%, #f7f9fc 100%);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--gray-700);background:var(--bg)}

.app{min-height:100vh;display:flex;flex-direction:column}
.brand{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:12px;padding:12px 16px;background:rgba(255,255,255,.85);backdrop-filter:saturate(130%) blur(8px);border-bottom:1px solid #e7ebee;position:sticky;top:0;z-index:10}
.brand__left{display:flex;align-items:center;gap:12px;justify-content:flex-start}
.brand__center{display:flex;align-items:center;justify-content:center}
.brand__right{display:flex;align-items:center;justify-content:flex-end}
.brand__logo{height:36px;width:auto;max-width:180px;object-fit:contain;filter:drop-shadow(0 1px 0 rgba(0,0,0,.05))}
.brand__text{display:flex;flex-direction:column;font-size:12px}
.brand__text strong{font-weight:800;letter-spacing:.2px}
@media (min-width:768px){
  .brand__logo{height:44px;max-width:220px}
}
.brand__right .btn--whatsapp{background:#25D366;color:#fff}

.wizard{width:100%;max-width:820px;margin:0 auto;padding:16px 16px calc(100px + env(safe-area-inset-bottom))}

.progress{height:10px;background:#e7ebee;border-radius:999px;overflow:hidden;margin:12px 0 24px;box-shadow:inset 0 1px 2px rgba(0,0,0,.04)}
.progress__bar{height:100%;background:linear-gradient(90deg, var(--blue-600), var(--blue-500));width:0%;transition:width .3s ease}

.step{display:none;animation:fade .2s ease}
.step.active{display:block}
.subtitle{margin-top:-8px;color:#60717a}
.desc{margin:12px 0 8px}
.bullets{padding-left:18px}
.note{font-size:12px;color:#7a8a93}

.options{display:grid;gap:10px;margin-top:12px}
.option{display:block;width:100%;padding:14px 16px;border:1px solid #d7dee4;border-radius:12px;background:var(--white);text-align:left;font-weight:600;cursor:pointer;transition:transform .08s ease,border-color .2s ease,box-shadow .2s ease}
.option:hover{border-color:var(--blue-600);box-shadow:var(--shadow-sm);transform:translateY(-1px)}
.option.selected{border-color:var(--blue-600);background:#e9f3fe;box-shadow:0 0 0 3px rgba(30,136,229,.12)}

.form{display:grid;gap:8px;margin-top:10px}
.form label{display:grid;gap:4px;font-size:14px}
.form input{padding:10px 12px;border:1px solid #d7dee4;border-radius:10px;background:var(--white)}
.form input.error{border-color:#e53935;box-shadow:0 0 0 3px rgba(229,57,53,.12)}
.form .field-error{color:#c62828;font-size:12px;min-height:16px}

.actions{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
.btn{appearance:none;border:none;border-radius:12px;padding:12px 16px;background:#e8edf2;color:#1b2630;font-weight:600;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;box-shadow:var(--shadow-sm);transition:transform .08s ease,box-shadow .2s ease,filter .2s ease}
.btn:hover{filter:brightness(.98);transform:translateY(-1px);box-shadow:0 8px 18px rgba(27,38,48,.12)}
.btn--primary{background:linear-gradient(180deg, var(--blue-600), var(--blue-700));color:#fff}
.btn--cta{background:linear-gradient(180deg, var(--green-600), #1b5e20);color:#fff}

.footer-controls{position:fixed;left:0;right:0;bottom:0;background:rgba(255,255,255,.92);backdrop-filter:saturate(120%) blur(6px);border-top:1px solid #e7ebee;padding:10px 16px calc(10px + env(safe-area-inset-bottom));display:flex;gap:10px;justify-content:center;box-shadow:0 -6px 18px rgba(0,0,0,.04)}
.footer{margin-top:auto;padding:16px;text-align:center;font-size:12px;color:#7a8a93}

@keyframes fade{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}

/* Mobile-first */
@media (min-width:768px){
  .options{grid-template-columns:1fr 1fr}
}

/* Resultado - breakdown */
.breakdown{margin:8px 0 12px}
.breakdown__list{list-style:none;margin:0;padding:8px 12px;border:1px dashed #cfd8de;border-radius:8px;background:#fafcfe}
.breakdown__list{overflow:hidden}
.breakdown__list li{display:flex;justify-content:space-between;gap:10px;padding:6px 0;border-bottom:1px dashed #e2e8ee;font-size:14px}
.breakdown__list li:last-child{border-bottom:none}
.breakdown__list--3col li{display:grid;grid-template-columns:minmax(0,1.2fr) minmax(0,1fr) auto;align-items:center}
.breakdown__list--3col li span{min-width:0;overflow-wrap:anywhere}
.breakdown__list--3col li span:nth-child(2){text-align:right}
.breakdown__list--3col li span:nth-child(3){text-align:right;font-weight:700;color:var(--gray-900)}
.breakdown__list--3col .impact-val{justify-self:end;border-radius:999px;padding:4px 8px;border:1px dashed #dfe6ec;background:#f6f9fc}
.breakdown__list--3col .impact-low{background:#E8F5E9;color:#1B5E20;border-color:#C8E6C9}
.breakdown__list--3col .impact-med{background:#FFF8E1;color:#8D6E63;border-color:#FFE0B2}
.breakdown__list--3col .impact-high{background:#FFEBEE;color:#B71C1C;border-color:#FFCDD2}
.breakdown--grid{display:grid;grid-template-columns:1fr minmax(180px, 320px);gap:12px;align-items:start}
.breakdown__col{display:block}

/* Box de score único no breakdown */
.breakdown__onlyscore{font-size:22px;font-weight:800;text-align:center;padding:10px 0;color:var(--gray-900)}

/* Resultados: empilhar botões um abaixo do outro */
.step[data-result] .actions{flex-direction:column;align-items:flex-start}
.step[data-result] .actions .btn{width:100%;max-width:400px}
.step[data-result] .actions.actions--single{align-items:stretch}
.actions__title{margin:6px 0 10px;color:var(--gray-900);font-weight:800;letter-spacing:.2px;font-size:18px;line-height:1.25;text-align:center}
@media (max-width:600px){
  .actions__title{font-size:16px}
}
.btn.btn--hero{background:linear-gradient(180deg,#22c55e,#16a34a);color:#fff;font-size:17px;padding:18px 20px;border-radius:14px;box-shadow:0 14px 32px rgba(22,163,74,.25), inset 0 1px 0 rgba(255,255,255,.25);max-width:520px;align-self:center}
.btn.btn--hero:hover{filter:brightness(1.02);transform:translateY(-2px);box-shadow:0 18px 40px rgba(22,163,74,.28)}

/* Vídeo no resultado */
.result-video{margin:35px 0 6px;display:flex;justify-content:center}
.result-video__frame{position:relative;width:100%;max-width:clamp(200px,50vw,320px);max-height:320px;aspect-ratio:16/9;border-radius:16px;overflow:hidden;box-shadow:0 16px 40px rgba(15,23,42,.12);background:#000;border:1px solid #e3eaf3}
.result-video__frame iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
/* Estilo para vídeo local */
.result-video__frame .result-video__player{position:absolute;inset:0;width:100%;height:100%;border:0;display:block;background:#000;object-fit:contain;object-position:center center}
.result-video__fallback{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;padding:16px;background:linear-gradient(180deg,#ffffff 0%,#f6f8fc 100%);color:#1b2630}
.result-video__fallback small{display:block;color:#607D8B;margin-top:6px}
.result-video__fallback a{color:#1565C0}

/* Impact meter */
.impact-meter{margin:12px 0 24px;padding:24px;border-radius:20px;background:linear-gradient(180deg,#ffffff 0%,#f5f8fd 100%);box-shadow:var(--shadow-md);border:1px solid #e3eaf3;display:flex;flex-direction:column;gap:18px;position:relative;overflow:hidden}
.impact-meter::after{content:'';position:absolute;inset:0;border-radius:20px;background:radial-gradient(120% 80% at 80% 0%, rgba(66,165,245,.12) 0%, rgba(66,165,245,0) 70%);pointer-events:none}
.impact-meter__value{display:flex;align-items:baseline;gap:12px;z-index:1}
.impact-meter__number{font-size:clamp(44px,8vw,80px);font-weight:800;color:var(--gray-900);line-height:1}
.impact-meter__unit{font-size:clamp(44px,8vw,80px);font-weight:700;letter-spacing:.2px;color:var(--gray-700);margin:0;line-height:1;text-transform:none}
.impact-meter__track{position:relative;width:100%;height:14px;border-radius:999px;background:#e1e7ef;overflow:hidden;box-shadow:inset 0 1px 2px rgba(15,23,42,.08);z-index:1}
.impact-meter__fill{position:absolute;left:0;top:0;height:100%;width:0%;border-radius:999px;background:linear-gradient(90deg,var(--blue-600) 0%,var(--blue-500) 100%);transition:width 1.25s cubic-bezier(.16,1,.3,1)}
.impact-meter[data-level="alto"] .impact-meter__fill{background:linear-gradient(90deg,#f44336 0%,#d32f2f 100%)}
.impact-meter[data-level="medio"] .impact-meter__fill{background:linear-gradient(90deg,#ffb300 0%,#fb8c00 100%)}
.impact-meter[data-level="baixo"] .impact-meter__fill{background:linear-gradient(90deg,#43a047 0%,#2e7d32 100%)}
.impact-meter[data-level="alto"]{border-color:rgba(244,67,54,.24);box-shadow:0 12px 32px rgba(244,67,54,.2)}
.impact-meter[data-level="medio"]{border-color:rgba(251,140,0,.2);box-shadow:0 12px 32px rgba(251,140,0,.18)}
.impact-meter[data-level="baixo"]{border-color:rgba(46,125,50,.18);box-shadow:0 12px 32px rgba(46,125,50,.16)}
.impact-meter[data-level]{background:linear-gradient(180deg,rgba(255,255,255,.98) 0%,rgba(245,248,253,.96) 100%)}

.result-insights,
.result-actions,
.result-services{margin:20px 0 18px;padding:22px;border-radius:18px;background:linear-gradient(180deg,rgba(246,249,255,.95) 0%,rgba(238,244,255,.9) 100%);border:1px solid rgba(118,141,220,.25);box-shadow:0 12px 32px rgba(15,23,42,.06);display:flex;flex-direction:column;gap:16px}
.result-actions{background:linear-gradient(180deg,rgba(240,249,255,.95) 0%,rgba(230,247,255,.9) 100%);border:1px solid rgba(100,181,246,.28)}
.result-services{background:linear-gradient(180deg,rgba(243,252,248,.95) 0%,rgba(234,250,244,.9) 100%);border:1px solid rgba(102,187,106,.26)}
.result-insights h3,
.result-actions h3,
.result-services h3{margin:0;font-size:18px;color:var(--gray-900);font-weight:700}
.result-insights__list,
.result-actions__list,
.result-services__list{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
/* Removidos estilos específicos do Grid.js/chips/tags */
.result-insights__item,
.result-actions__item,
.result-services__item{display:flex;align-items:flex-start;gap:14px;padding:16px 18px;border-radius:14px;background:rgba(255,255,255,.92);border:1px solid rgba(125,138,164,.16);box-shadow:0 8px 20px rgba(15,23,42,.05);position:relative;overflow:hidden}
.result-insights__item::after,
.result-actions__item::after,
.result-services__item::after{content:'';position:absolute;inset:0;border-radius:14px;pointer-events:none;opacity:.22}
.result-insights__item--alto{border-color:rgba(244,67,54,.22)}
.result-insights__item--alto::after{background:linear-gradient(120deg,rgba(244,67,54,.2),rgba(244,67,54,0))}
.result-insights__item--medio{border-color:rgba(251,140,0,.18)}
.result-insights__item--medio::after{background:linear-gradient(120deg,rgba(251,140,0,.18),rgba(251,140,0,0))}
.result-insights__item--baixo{border-color:rgba(76,175,80,.2)}
.result-insights__item--baixo::after{background:linear-gradient(120deg,rgba(76,175,80,.2),rgba(76,175,80,0))}
.result-insights__badge,
.result-actions__badge,
.result-services__badge{width:42px;height:42px;border-radius:12px;background:rgba(30,136,229,.12);display:flex;align-items:center;justify-content:center;font-size:22px}
.result-insights__item--alto .result-insights__badge{background:rgba(244,67,54,.18)}
.result-insights__item--medio .result-insights__badge{background:rgba(251,140,0,.16)}
.result-insights__item--baixo .result-insights__badge{background:rgba(67,160,71,.16)}
.result-insights__content,
.result-actions__content,
.result-services__content{display:flex;flex-direction:column;gap:6px;flex:1;position:relative;z-index:1}
.result-insights__heading,
.result-actions__heading,
.result-services__heading{font-weight:700;color:var(--gray-900);letter-spacing:.1px}
.result-insights__label,
.result-actions__label,
.result-services__label{font-size:13px;color:var(--gray-500)}
.result-insights__text,
.result-actions__text,
.result-services__text{margin:0;font-size:14px;color:var(--gray-700);line-height:1.45}
.result-insights__tag,
.result-actions__tag,
.result-services__tag{align-self:flex-start;padding:6px 10px;border-radius:999px;background:rgba(30,136,229,.1);color:var(--blue-600);font-size:12px;font-weight:600;position:relative;z-index:1}
.result-insights__empty,
.result-actions__empty,
.result-services__empty{margin:0;font-size:14px;color:var(--gray-500)}
.result-insights__item--alto .result-insights__tag{background:rgba(244,67,54,.12);color:#c62828}
.result-insights__item--medio .result-insights__tag{background:rgba(251,140,0,.12);color:#ef6c00}
.result-insights__item--baixo .result-insights__tag{background:rgba(67,160,71,.12);color:#2e7d32}
.result-actions__badge--cadastro{background:rgba(63,81,181,.16)}
.result-actions__badge--equipe{background:rgba(255,152,0,.18)}
.result-actions__badge--financeiro{background:rgba(25,118,210,.16)}
.result-actions__badge--contabil{background:rgba(56,142,60,.18)}
.result-actions__item--cadastro{border-color:rgba(63,81,181,.22)}
.result-actions__item--cadastro::after{background:linear-gradient(120deg,rgba(63,81,181,.2),rgba(63,81,181,0))}
.result-actions__item--equipe{border-color:rgba(255,152,0,.22)}
.result-actions__item--equipe::after{background:linear-gradient(120deg,rgba(255,152,0,.24),rgba(255,152,0,0))}
.result-actions__item--financeiro{border-color:rgba(25,118,210,.22)}
.result-actions__item--financeiro::after{background:linear-gradient(120deg,rgba(25,118,210,.24),rgba(25,118,210,0))}
.result-actions__item--contabil{border-color:rgba(56,142,60,.22)}
.result-actions__item--contabil::after{background:linear-gradient(120deg,rgba(56,142,60,.22),rgba(56,142,60,0))}
.result-actions__tag--cadastro{background:rgba(63,81,181,.12);color:#283593}
.result-actions__tag--equipe{background:rgba(255,152,0,.12);color:#ef6c00}
.result-actions__tag--financeiro{background:rgba(25,118,210,.12);color:#0d47a1}
.result-actions__tag--contabil{background:rgba(56,142,60,.12);color:#1b5e20}

.result-services__badge--consultoria{background:rgba(186,104,200,.16)}
.result-services__badge--bpo{background:rgba(0,172,193,.16)}
.result-services__badge--compliance{background:rgba(124,179,66,.18)}
.result-services__badge--treinamento{background:rgba(255,202,40,.18)}
.result-services__item--consultoria{border-color:rgba(186,104,200,.24)}
.result-services__item--consultoria::after{background:linear-gradient(120deg,rgba(186,104,200,.2),rgba(186,104,200,0))}
.result-services__item--bpo{border-color:rgba(0,172,193,.24)}
.result-services__item--bpo::after{background:linear-gradient(120deg,rgba(0,172,193,.2),rgba(0,172,193,0))}
.result-services__item--compliance{border-color:rgba(124,179,66,.24)}
.result-services__item--compliance::after{background:linear-gradient(120deg,rgba(124,179,66,.2),rgba(124,179,66,0))}
.result-services__item--treinamento{border-color:rgba(255,202,40,.24)}
.result-services__item--treinamento::after{background:linear-gradient(120deg,rgba(255,202,40,.2),rgba(255,202,40,0))}
.result-services__tag--consultoria{background:rgba(186,104,200,.12);color:#6a1b9a}
.result-services__tag--bpo{background:rgba(0,172,193,.12);color:#006064}
.result-services__tag--compliance{background:rgba(124,179,66,.12);color:#2e7d32}
.result-services__tag--treinamento{background:rgba(255,202,40,.12);color:#f57f17}


/* Admin bar */
.adminbar{position:fixed;right:16px;bottom:64px;display:flex;gap:8px;align-items:center;background:rgba(255,255,255,.95);border:1px solid #e7ebee;border-radius:10px;padding:8px 10px;box-shadow:0 4px 14px rgba(0,0,0,.06)}

/* Hero (primeira página) */
.step[data-step="0"].active{
  position:relative;
  background:var(--grad-hero);
  border:1px solid #e7ebee;
  border-radius:16px;
  padding:24px;
  box-shadow:var(--shadow-md);
}
.step[data-step="0"].active h1{
  font-size:clamp(24px,4.2vw,36px);
  line-height:1.15;
  color:var(--gray-900);
  letter-spacing:-.2px;
}
.step[data-step="0"].active .subtitle{color:var(--gray-500);font-weight:600}
.step[data-step="0"].active .desc{font-size:15px;color:#546a75}
.step[data-step="0"].active .bullets{margin-top:8px}
.step[data-step="0"].active .bullets li{background:#ffffff;display:inline-block;margin:6px 6px 0 0;padding:8px 10px;border-radius:999px;border:1px solid #e7ebee;font-size:13px}
.step[data-step="0"].active .actions{margin-top:18px}
/* Oculta os controles de rodapé no passo de capa */
.step[data-step="0"].active ~ .footer-controls{display:none}

/* Responsividade do breakdown no mobile */
@media (max-width: 520px){
  .breakdown__list--3col li{
    grid-template-columns:1fr auto;
    grid-template-areas:
      "q imp"
      "ans imp";
    row-gap:4px;
  }
  .breakdown__list--3col li span:nth-child(1){grid-area:q}
  .breakdown__list--3col li span:nth-child(2){grid-area:ans;text-align:left;color:var(--gray-700)}
  .breakdown__list--3col li span:nth-child(3){grid-area:imp;align-self:center}
}

@media (max-width:600px){
  .result-insights,
  .result-actions,
  .result-services{padding:18px}
  .result-insights__item,
  .result-actions__item,
  .result-services__item{flex-direction:column;gap:12px}
  .result-insights__badge,
  .result-actions__badge,
  .result-services__badge{width:40px;height:40px;font-size:20px}
  .result-insights__tag,
  .result-actions__tag,
  .result-services__tag{margin-top:6px}
  /* Remover "Resposta:" nos insights para reduzir texto no mobile */
  .result-insights__label{display:none}
  /* Reduzir blocos de texto (3 linhas) para leitura rápida */
  .result-insights__text,
  .result-actions__text,
  .result-services__text{
    display:-webkit-box;
    line-clamp:3;
    -webkit-line-clamp:3;
    -webkit-box-orient:vertical;
    overflow:hidden;
    word-break:break-word;
  }
}

/* Realce visual por nível nos insights (bordas laterais) */
.result-insights__item{border-left:5px solid transparent}
.result-insights__item--alto{border-left-color:#e53935}
.result-insights__item--medio{border-left-color:#fb8c00}
.result-insights__item--baixo{border-left-color:#2e7d32}
/* fim */

/* Unified result callout */
.result-callout{margin:18px 0 10px;padding:22px;border-radius:18px;background-color:#f3f7ff;background:linear-gradient(180deg,rgba(246,249,255,.96) 0%,rgba(235,245,255,.94) 100%);border:1px solid rgba(118,141,220,.28);box-shadow:0 14px 36px rgba(15,23,42,.08);display:flex;flex-direction:column;gap:14px;position:relative;overflow:hidden}
.result-callout::after{content:'';position:absolute;inset:0;border-radius:18px;background:radial-gradient(120% 80% at 80% 0%, rgba(66,165,245,.15) 0%, rgba(66,165,245,0) 70%);pointer-events:none}
.result-callout__header{display:flex;align-items:center;gap:12px;position:relative;z-index:1}
.result-callout__badge{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:rgba(30,136,229,.14);box-shadow:inset 0 1px 0 rgba(255,255,255,.4);font-size:22px}
.result-callout__titlewrap{display:flex;flex-direction:column;gap:4px}
.result-callout__title{margin:0;color:var(--gray-900);font-size:18px;font-weight:800;letter-spacing:.2px}
.result-callout__subtitle{margin:0;color:var(--gray-500);font-size:13px}
.result-callout__list{display:grid;gap:10px;grid-template-columns:1fr}
.result-callout__line{display:flex;align-items:flex-start;gap:10px;padding:12px 14px;border-radius:12px;background-color:#ffffff;background:rgba(255,255,255,.92);border:1px solid rgba(125,138,164,.16);box-shadow:0 8px 18px rgba(15,23,42,.05);font-weight:600}
.result-callout__line--highlight{background:linear-gradient(180deg,rgba(255,255,255,.96) 0%,rgba(236,253,245,.96) 100%);border-color:rgba(16,185,129,.35);box-shadow:0 10px 24px rgba(5,150,105,.12)}
.result-callout__icon{display:inline-flex;width:22px;height:22px;align-items:center;justify-content:center;border-radius:999px;background:rgba(30,136,229,.16);color:var(--blue-600);font-size:13px;line-height:1;margin-top:2px}
/* Ícone diferenciado para itens em destaque */
.result-callout__line--highlight .result-callout__icon{background:rgba(16,185,129,.18);color:#047857}

@media (min-width:700px){
  .result-callout__list{grid-template-columns:repeat(2,minmax(0,1fr))}
}

/* Ajustes mobile para o callout */
@media (max-width:600px){
  .result-callout{padding:18px}
  .result-callout__badge{width:38px;height:38px;font-size:20px}
  .result-callout__title{font-size:16px}
  .result-callout__subtitle{font-size:12px}
  .result-callout__line{padding:10px 12px}
  .result-callout__icon{width:20px;height:20px;font-size:12px}
}

/* Fallback quando o navegador não suporta gap */
@supports not (gap: 1rem){
  .result-callout__header > * + *{margin-left:12px}
  .result-callout__line > * + *{margin-left:10px}
  /* Grid gap fallback */
  .result-callout__list{display:block}
  .result-callout__list > * + *{margin-top:10px}
}
